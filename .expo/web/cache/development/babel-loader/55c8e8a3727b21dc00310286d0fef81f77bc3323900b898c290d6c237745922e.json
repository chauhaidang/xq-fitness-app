{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Switch from \"react-native-web/dist/exports/Switch\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { updateRoutine } from \"../services/api\";\nimport { commonStyles, colors, spacing } from \"../styles/common\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar EditRoutineScreen = function EditRoutineScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var _route$params = route.params,\n    routineId = _route$params.routineId,\n    routine = _route$params.routine;\n  var _useState = useState(routine.name),\n    _useState2 = _slicedToArray(_useState, 2),\n    name = _useState2[0],\n    setName = _useState2[1];\n  var _useState3 = useState(routine.description || ''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    description = _useState4[0],\n    setDescription = _useState4[1];\n  var _useState5 = useState(routine.isActive),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isActive = _useState6[0],\n    setIsActive = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    loading = _useState8[0],\n    setLoading = _useState8[1];\n  var handleSubmit = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!name.trim()) {\n        Alert.alert('Validation Error', 'Please enter a routine name');\n        return;\n      }\n      try {\n        setLoading(true);\n        yield updateRoutine(routineId, {\n          name: name.trim(),\n          description: description.trim() || null,\n          isActive: isActive\n        });\n        Alert.alert('Success', 'Routine updated successfully', [{\n          text: 'OK',\n          onPress: function onPress() {\n            return navigation.goBack();\n          }\n        }]);\n      } catch (error) {\n        var _error$response, _error$response$data;\n        console.error('Error updating routine:', error);\n        Alert.alert('Error', ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || 'Failed to update routine');\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function handleSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(KeyboardAvoidingView, {\n    style: commonStyles.container,\n    behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n    children: _jsxs(ScrollView, {\n      contentContainerStyle: {\n        padding: spacing.md\n      },\n      children: [_jsxs(View, {\n        style: {\n          marginBottom: spacing.md\n        },\n        children: [_jsx(Text, {\n          style: commonStyles.label,\n          children: \"Routine Name *\"\n        }), _jsx(TextInput, {\n          style: commonStyles.input,\n          value: name,\n          onChangeText: setName,\n          placeholder: \"Enter routine name\",\n          maxLength: 200\n        })]\n      }), _jsxs(View, {\n        style: {\n          marginBottom: spacing.md\n        },\n        children: [_jsx(Text, {\n          style: commonStyles.label,\n          children: \"Description\"\n        }), _jsx(TextInput, {\n          style: [commonStyles.input, {\n            height: 100,\n            textAlignVertical: 'top'\n          }],\n          value: description,\n          onChangeText: setDescription,\n          placeholder: \"Enter description (optional)\",\n          multiline: true,\n          numberOfLines: 4,\n          maxLength: 1000\n        })]\n      }), _jsxs(View, {\n        style: {\n          flexDirection: 'row',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          marginBottom: spacing.lg\n        },\n        children: [_jsx(Text, {\n          style: commonStyles.label,\n          children: \"Active\"\n        }), _jsx(Switch, {\n          value: isActive,\n          onValueChange: setIsActive,\n          trackColor: {\n            false: colors.border,\n            true: colors.primary\n          },\n          thumbColor: colors.white\n        })]\n      }), _jsx(TouchableOpacity, {\n        style: [commonStyles.button, loading && {\n          opacity: 0.6\n        }],\n        onPress: handleSubmit,\n        disabled: loading,\n        children: _jsx(Text, {\n          style: commonStyles.buttonText,\n          children: loading ? 'Updating...' : 'Update Routine'\n        })\n      })]\n    })\n  });\n};\nexport default EditRoutineScreen;","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","ScrollView","Alert","Switch","KeyboardAvoidingView","Platform","updateRoutine","commonStyles","colors","spacing","jsx","_jsx","jsxs","_jsxs","EditRoutineScreen","_ref","route","navigation","_route$params","params","routineId","routine","_useState","name","_useState2","_slicedToArray","setName","_useState3","description","_useState4","setDescription","_useState5","isActive","_useState6","setIsActive","_useState7","_useState8","loading","setLoading","handleSubmit","_ref2","_asyncToGenerator","trim","alert","text","onPress","goBack","error","_error$response","_error$response$data","console","response","data","message","apply","arguments","style","container","behavior","OS","children","contentContainerStyle","padding","md","marginBottom","label","input","value","onChangeText","placeholder","maxLength","height","textAlignVertical","multiline","numberOfLines","flexDirection","justifyContent","alignItems","lg","onValueChange","trackColor","false","border","true","primary","thumbColor","white","button","opacity","disabled","buttonText"],"sources":["/Users/automation2/Documents/workspace/project/xq-app/xq-fitness/mobile/src/screens/EditRoutineScreen.js"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  View,\n  Text,\n  TextInput,\n  TouchableOpacity,\n  ScrollView,\n  Alert,\n  Switch,\n  KeyboardAvoidingView,\n  Platform,\n} from 'react-native';\nimport { updateRoutine } from '../services/api';\nimport { commonStyles, colors, spacing } from '../styles/common';\n\nconst EditRoutineScreen = ({ route, navigation }) => {\n  const { routineId, routine } = route.params;\n  const [name, setName] = useState(routine.name);\n  const [description, setDescription] = useState(routine.description || '');\n  const [isActive, setIsActive] = useState(routine.isActive);\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async () => {\n    if (!name.trim()) {\n      Alert.alert('Validation Error', 'Please enter a routine name');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      await updateRoutine(routineId, {\n        name: name.trim(),\n        description: description.trim() || null,\n        isActive,\n      });\n      Alert.alert('Success', 'Routine updated successfully', [\n        { text: 'OK', onPress: () => navigation.goBack() },\n      ]);\n    } catch (error) {\n      console.error('Error updating routine:', error);\n      Alert.alert(\n        'Error',\n        error.response?.data?.message || 'Failed to update routine'\n      );\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <KeyboardAvoidingView\n      style={commonStyles.container}\n      behavior={Platform.OS === 'ios' ? 'padding' : 'height'}\n    >\n      <ScrollView contentContainerStyle={{ padding: spacing.md }}>\n        <View style={{ marginBottom: spacing.md }}>\n          <Text style={commonStyles.label}>Routine Name *</Text>\n          <TextInput\n            style={commonStyles.input}\n            value={name}\n            onChangeText={setName}\n            placeholder=\"Enter routine name\"\n            maxLength={200}\n          />\n        </View>\n\n        <View style={{ marginBottom: spacing.md }}>\n          <Text style={commonStyles.label}>Description</Text>\n          <TextInput\n            style={[commonStyles.input, { height: 100, textAlignVertical: 'top' }]}\n            value={description}\n            onChangeText={setDescription}\n            placeholder=\"Enter description (optional)\"\n            multiline\n            numberOfLines={4}\n            maxLength={1000}\n          />\n        </View>\n\n        <View style={{ flexDirection: 'row', justifyContent: 'space-between', alignItems: 'center', marginBottom: spacing.lg }}>\n          <Text style={commonStyles.label}>Active</Text>\n          <Switch\n            value={isActive}\n            onValueChange={setIsActive}\n            trackColor={{ false: colors.border, true: colors.primary }}\n            thumbColor={colors.white}\n          />\n        </View>\n\n        <TouchableOpacity\n          style={[commonStyles.button, loading && { opacity: 0.6 }]}\n          onPress={handleSubmit}\n          disabled={loading}\n        >\n          <Text style={commonStyles.buttonText}>\n            {loading ? 'Updating...' : 'Update Routine'}\n          </Text>\n        </TouchableOpacity>\n      </ScrollView>\n    </KeyboardAvoidingView>\n  );\n};\n\nexport default EditRoutineScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}